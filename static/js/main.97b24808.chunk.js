(this.webpackJsonpaviasales=this.webpackJsonpaviasales||[]).push([[0],{10:function(t,e,n){t.exports={buttons:"FlightsBlock_buttons__2yn72",selectedButton:"FlightsBlock_selectedButton__ngAAH"}},26:function(t,e,n){},33:function(t,e,n){},35:function(t,e,n){"use strict";n.r(e);var s=n(1),c=n(0),i=n.n(c),r=n(6),a=n.n(r),o=(n(26),n(3)),l=(n(33),n(15)),u=n.n(l),d=n(18),j=n(8),h=Object(j.b)({name:"todos",initialState:{flights:[],isLoading:!1,filterItems:[{stops:0,selected:!1,text:"\u0411\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"},{stops:1,selected:!1,text:"1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430"},{stops:2,selected:!1,text:"2 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"},{stops:3,selected:!1,text:"3 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"}]},reducers:{installFlights:function(t,e){t.flights=e.payload},toggleLoading:function(t,e){t.isLoading=e.payload},toggleSelected:function(t,e){t.filterItems[e.payload].selected=!t.filterItems[e.payload].selected}}}),b=h.actions,f=(b.installFlights,b.toggleSelected),p=h.reducer,g=n(9),O=n.n(g),x=function(){var t=Object(o.c)((function(t){return t.state})).filterItems;return Object(s.jsxs)("div",{className:O.a.container,children:[Object(s.jsx)("h2",{className:O.a.heading,children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"}),t.map((function(t){return Object(s.jsx)(m,{text:t.text,stops:t.stops,selected:t.selected},t.stops)}))]})},m=function(t){var e=t.text,n=t.stops,c=t.selected,i=Object(o.b)();return Object(s.jsxs)("div",{className:O.a.item,onClick:function(){return i(f(n))},children:[Object(s.jsx)("input",{type:"checkbox",checked:c,readOnly:!0}),Object(s.jsx)("span",{children:e})]})},v=n(16),_=n(19),k=n(20),N=n(10),F=n.n(N),B=n(4),y=n.n(B),I=function(t){var e,n=t.price,c=t.carrier,i=t.segments;return Object(s.jsxs)("div",{className:y.a.flight,children:[Object(s.jsxs)("header",{children:[Object(s.jsx)("span",{className:y.a.price,children:String(n).split("").map((function(t,e){return 1===e?t+" ":t})).join("")+" \u0420"}),Object(s.jsx)("img",{src:"//pics.avs.io/99/36/".concat(c,".png"),alt:""})]}),Object(s.jsxs)("div",{className:y.a.description,children:[Object(s.jsxs)("div",{className:y.a.item,children:[Object(s.jsx)("h6",{children:"\u0412\u0440\u0435\u043c\u044f \u0438 \u0434\u0430\u0442\u0430 \u0432\u044b\u043b\u0435\u0442\u0430 "}),Object(s.jsxs)("h5",{children:[i[0].date.slice(11,16)," \xa0\xa0\xa0\xa0\xa0",i[0].date.slice(5,10).split("-").reverse().join(".")]})]}),Object(s.jsxs)("div",{className:y.a.item,children:[Object(s.jsx)("h6",{children:"\u0412\u0440\u0435\u043c\u044f \u043f\u0443\u0442\u0438 "}),Object(s.jsx)("h5",{children:(e=i[0].duration,Math.trunc(e/60)+"\u0447. "+e%60+"\u043c.")})]}),Object(s.jsxs)("div",{className:y.a.item,children:[Object(s.jsxs)("h6",{children:[" \u041f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438: ",i[0].stops.length," "]}),Object(s.jsx)("h5",{children:i[0].stops.join(" ")})]})]})]})},S=function(){var t=Object(c.useState)("\u0421\u0430\u043c\u044b\u0439 \u0434\u0435\u0448\u0435\u0432\u044b\u0439"),e=Object(k.a)(t,2),n=e[0],i=e[1],r=Object(o.c)((function(t){return t.state})),a=r.flights,l=r.isLoading,u=r.filterItems.filter((function(t){return!0===t.selected})).map((function(t){return t.stops})),d=Object(_.a)(a);"\u0421\u0430\u043c\u044b\u0439 \u0434\u0435\u0448\u0435\u0432\u044b\u0439"===n?d.sort((function(t,e){return t.price>e.price?1:t.price<e.price?-1:0})):"\u0421\u0430\u043c\u044b\u0439 \u0431\u044b\u0441\u0442\u0440\u044b\u0439"===n&&d.sort((function(t,e){return t.segments[0].duration>e.segments[0].duration?1:t.segments[0].duration<e.segments[0].duration?-1:0}));var j=u.length?d.map((function(t,e){return u.some((function(e){return e===t.segments[0].stops.length}))?Object(s.jsx)(I,Object(v.a)({},t),e):null})):d.map((function(t,e){return Object(s.jsx)(I,Object(v.a)({},t),e)}));return Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:F.a.buttons,children:[Object(s.jsx)("button",{className:"\u0421\u0430\u043c\u044b\u0439 \u0434\u0435\u0448\u0435\u0432\u044b\u0439"===n?F.a.selectedButton:"",onClick:function(){return i("\u0421\u0430\u043c\u044b\u0439 \u0434\u0435\u0448\u0435\u0432\u044b\u0439")},children:"\u0421\u0430\u043c\u044b\u0439 \u0434\u0435\u0448\u0435\u0432\u044b\u0439"}),Object(s.jsx)("button",{className:"\u0421\u0430\u043c\u044b\u0439 \u0431\u044b\u0441\u0442\u0440\u044b\u0439"===n?F.a.selectedButton:"",onClick:function(){return i("\u0421\u0430\u043c\u044b\u0439 \u0431\u044b\u0441\u0442\u0440\u044b\u0439")},children:"\u0421\u0430\u043c\u044b\u0439 \u0431\u044b\u0441\u0442\u0440\u044b\u0439"})]}),l?"Loading...":j]})},L=n.p+"static/media/logo.371cc60f.png",J=function(){var t=Object(o.b)();return Object(c.useEffect)((function(){t(function(){var t=Object(d.a)(u.a.mark((function t(e){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(h.actions.toggleLoading(!0)),t.next=3,fetch("https://front-test.beta.aviasales.ru/search").then((function(t){return t.json()})).then((function(t){return fetch("https://front-test.beta.aviasales.ru/tickets?searchId=".concat(t.searchId)).then((function(t){return t.json().then((function(t){return t.tickets.slice(0,100)}))}))}));case 3:return n=t.sent,t.next=6,e(h.actions.installFlights(n));case 6:e(h.actions.toggleLoading(!1));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[t]),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"logo",children:Object(s.jsx)("img",{src:L,alt:"logo"})}),Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)(x,{}),Object(s.jsx)(S,{})]})]})},w=n(2),M=Object(w.c)({state:p}),A=Object(j.a)({reducer:M});a.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(o.a,{store:A,children:Object(s.jsx)(J,{})})}),document.getElementById("root"))},4:function(t,e,n){t.exports={flight:"Flight_flight__3avSV",price:"Flight_price__33PXO",description:"Flight_description__2MRPJ",item:"Flight_item__1MfcR"}},9:function(t,e,n){t.exports={container:"FilterBlock_container__ZHGxJ",heading:"FilterBlock_heading__PSGJU",item:"FilterBlock_item__3AoO7"}}},[[35,1,2]]]);
//# sourceMappingURL=main.97b24808.chunk.js.map